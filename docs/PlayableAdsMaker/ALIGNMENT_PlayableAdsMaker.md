# Playable Ads Maker - 对齐文档

## 原始需求

1. 前端采用Nextjs实现，CSS样式采用Tailwind CSS，支持PC端和移动端自适应
2. 功能和布局实现参考截图所示，布局可以根据用户友好程度进行适度调整
3. 前端将用户上传的图片和其它参数发送给后端服务
4. 后端使用Python FastAPI实现，接收前端参数，组装为一个JSON文件，并返回一个HTML或ZIP文件

## 项目上下文分析

### 技术栈

- **前端**：
  - Next.js (React框架)
  - Tailwind CSS (样式框架)
  - 文件上传组件
  - 响应式设计

- **后端**：
  - Python
  - FastAPI
  - 文件处理
  - JSON处理

### 功能分析（基于截图）

从截图可以看出，这是一个多步骤的Playable Ads制作流程：

1. **步骤一**：上传视频
2. **步骤二**：添加暂停帧
   - 暂停时间设置
   - 引导图片上传
   - 引导位置设置（视频左侧和顶部百分比）
3. **步骤三**：添加CTA按钮
   - 全程显示的CTA按钮
   - 结尾显示的CTA按钮
   - 显示位置设置
   - 开始显示时间设置
   - CTA图片上传
4. **步骤四（可选）**：上传Banner图（适配横屏）
   - 左侧横幅充图片上传
   - 右侧横幅充图片上传
5. **步骤五**：导出
   - 选择发布平台（Google、Facebook、Applovin等）
   - 生成平台资源
   - 预览资源
   - 下载资源

### 步骤依赖关系

- **重要说明**：从第二步开始的所有步骤都需要参考第一步上传的视频
- 步骤二（暂停帧设置）需要基于第一步上传的视频进行时间点选择和位置设置
- 步骤三（CTA按钮）需要基于第一步上传的视频进行位置和时间设置
- 步骤四（Banner图）需要与第一步上传的视频协调显示
- 步骤五（导出）需要整合前面所有步骤的数据

## 边界确认

1. **输入限制**：
   - 支持的视频格式和大小限制
   - 支持的图片格式和大小限制
   - 时间设置的范围限制

2. **输出限制**：
   - 生成的HTML/ZIP文件的结构和格式
   - 支持的广告平台（Google、Facebook、Applovin等）

3. **功能范围**：
   - 是否支持预览生成的广告效果
   - 是否支持保存未完成的项目
   - 是否支持编辑已创建的项目

## 需求理解

1. 这是一个用于创建可玩广告（Playable Ads）的Web应用平台
2. 用户可以通过多步骤流程，上传视频和图片，设置暂停点、CTA按钮等元素
3. 系统将根据用户的输入生成适用于不同广告平台的HTML或ZIP文件
4. 界面需要支持PC和移动设备，采用响应式设计
5. 各步骤之间存在依赖关系，特别是从第二步开始都需要参考第一步上传的视频

## 疑问澄清

1. **视频处理**：
   - 是否需要对上传的视频进行处理（如压缩、格式转换）？
   - 视频的最大大小和时长限制是多少？

2. **暂停帧**：
   - 暂停帧的数量是否有限制？
   - 暂停帧是否需要预览效果？

3. **CTA按钮**：
   - CTA按钮是否有预设样式或完全自定义？
   - 是否支持自定义CTA按钮的文字？

4. **平台兼容性**：
   - 需要支持哪些具体的广告平台？
   - 各平台对生成文件有哪些特殊要求？

5. **数据存储**：
   - 是否需要保存用户的项目数据？
   - 是否需要用户账户系统？

6. **部署要求**：
   - 有哪些特定的部署环境要求？
   - 是否需要考虑CDN加速？

## 初步决策

基于现有信息，我们可以做出以下初步决策：

1. 采用分步表单设计，引导用户完成广告创建流程
2. 使用客户端文件预览功能，让用户可以实时查看效果
3. 实现响应式设计，优先保证PC端体验，同时兼容移动端
4. 后端采用模块化设计，支持不同平台的广告生成逻辑
5. 文件上传采用分块上传策略，支持大文件处理
6. 在整个流程中保持视频预览，让用户可以参考视频进行后续步骤的设置 